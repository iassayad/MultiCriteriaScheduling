syndex_version : "6.7.0"
application description : ""

# Libraries
include "int.sdx";
include "u.sdx";

# Algorithms
def algorithm addition  200,200:
 ? int[1] a 1 @8,8;
 ? int[1] b 2 @8,8;
 ! int[1] o 1 @170,8;
code_phases:  loopseq;

def algorithm algo  460,251:
conditions: true;
references:
 int/input<1>  input1 @114,100;
 int/input<1>  input2 @114,173;
 addition  Add @208,181;
 int/Arit_sub<1>  Sub @209,102;
 int/Arit_mul<1>  Mul @319,133;
 int/output<1>  output @431,133;
dependences:
 strong_precedence_data input1.o -> Add.a;
 strong_precedence_data input2.o -> Add.b;
 strong_precedence_data input1.o -> Sub.a;
 strong_precedence_data input2.o -> Sub.b;
 strong_precedence_data Add.o -> Mul.a;
 strong_precedence_data Sub.o -> Mul.b;
 strong_precedence_data Mul.o -> output.i;
code_phases:  loopseq;


# Architectures
def architecture archi 352,220:
operators:
 u/U root @118,148;
 u/U ourson @268,261;
 u/U izard @355,125;
 main operator root;
medias:
 u/TCP L13 broadcast @203,232;
 u/TCP L13_1 broadcast @228,119;
 u/TCP L13_2 broadcast @350,205;
connections:
 root.y L13;
 ourson.y L13;
 root.x L13_1;
 izard.x L13_1;
 izard.y L13_2;
 ourson.x L13_2;


# Main Algorithm / Main Architecture
main algorithm algo ;
main architecture archi;

# Extra durations
extra_durations_operator u/U :
addition = 1.;
R = 1.;

# Software components

software_component local :
[\\algo\output,attach_ref]
[\\algo\input1,attach_ref]
[\\algo\input2,attach_ref]
;

software_component remote_yak :
;

software_component remote_izard :
[\\algo\Sub,attach_ref]
;

software_component remote_ourson :
[\\algo\Add,attach_ref]
[\\algo\Mul,attach_ref]
;

# Constraints
absolute constraint : local on archi.root ;
absolute constraint : remote_izard on archi.izard ;
absolute constraint : remote_ourson on archi.ourson ;
